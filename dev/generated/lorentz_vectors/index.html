<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Lorentz Vectors · QEDbase.jl</title><meta name="title" content="Lorentz Vectors · QEDbase.jl"/><meta property="og:title" content="Lorentz Vectors · QEDbase.jl"/><meta property="twitter:title" content="Lorentz Vectors · QEDbase.jl"/><meta name="description" content="Documentation for QEDbase.jl."/><meta property="og:description" content="Documentation for QEDbase.jl."/><meta property="twitter:description" content="Documentation for QEDbase.jl."/><meta property="og:url" content="https://qedjl-project.gitlab.io/QEDbase.jl/generated/lorentz_vectors/"/><meta property="twitter:url" content="https://qedjl-project.gitlab.io/QEDbase.jl/generated/lorentz_vectors/"/><link rel="canonical" href="https://qedjl-project.gitlab.io/QEDbase.jl/generated/lorentz_vectors/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">QEDbase.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox" checked/><label class="tocitem" for="menuitem-2"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Lorentz Vectors</a><ul class="internal"><li><a class="tocitem" href="#Defining-a-Custom-Lorentz-Vector-Type"><span>Defining a Custom Lorentz Vector Type</span></a></li><li><a class="tocitem" href="#Summary"><span>Summary</span></a></li></ul></li><li><a class="tocitem" href="../particle/">Particles</a></li><li><a class="tocitem" href="../particle_stateful/">Stateful Particles</a></li><li><a class="tocitem" href="../process/">Scattering Process</a></li><li><a class="tocitem" href="../phase_space_point/">Phase Space Points</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">API reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../library/outline/">Contents</a></li><li><a class="tocitem" href="../../library/lorentz_vector/">Lorentz vectors</a></li><li><a class="tocitem" href="../../library/dirac_objects/">Dirac tensors</a></li><li><a class="tocitem" href="../../library/particles/">Particles</a></li><li><a class="tocitem" href="../../library/process/">Scattering process</a></li><li><a class="tocitem" href="../../library/phase_space_layout/">Phase space layout</a></li><li><a class="tocitem" href="../../library/phase_space/">Phase space description</a></li><li><a class="tocitem" href="../../library/cross_section/">Probability and cross section</a></li><li><a class="tocitem" href="../../library/function_index/">Function index</a></li></ul></li><li><a class="tocitem" href="../../refs/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>Lorentz Vectors</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Lorentz Vectors</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/QEDjl-project/QEDbase.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/QEDjl-project/QEDbase.jl/blob/dev/docs/src/tutorial/lorentz_vectors.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Tutorial:-Custom-Lorentz-Vectors"><a class="docs-heading-anchor" href="#Tutorial:-Custom-Lorentz-Vectors">Tutorial: Custom Lorentz Vectors</a><a id="Tutorial:-Custom-Lorentz-Vectors-1"></a><a class="docs-heading-anchor-permalink" href="#Tutorial:-Custom-Lorentz-Vectors" title="Permalink"></a></h1><p><a href="https://en.wikipedia.org/wiki/Four-vector">Lorentz vectors</a>, which represent elements of Minkowski space, are fundamental mathematical objects in high-energy physics for describing the kinematic properties of particles. In particular, they are used to express four-momentum and other kinematic quantities.</p><p><code>QEDbase.jl</code> provides a flexible interface for working with Lorentz vectors and four-momenta, allowing seamless integration with custom types that represent Lorentz vectors. This enables users to extend the core functionality of the package to their own data structures, while taking advantage of optimized kinematic computations.</p><h2 id="Defining-a-Custom-Lorentz-Vector-Type"><a class="docs-heading-anchor" href="#Defining-a-Custom-Lorentz-Vector-Type">Defining a Custom Lorentz Vector Type</a><a id="Defining-a-Custom-Lorentz-Vector-Type-1"></a><a class="docs-heading-anchor-permalink" href="#Defining-a-Custom-Lorentz-Vector-Type" title="Permalink"></a></h2><p>The <code>LorentzVector</code> interface in <code>QEDbase.jl</code> is designed to be extendable. By implementing a simple API, you can make any custom type behave like a Lorentz vector and unlock access to various kinematic functions in the package.</p><h3 id="Step-1:-Define-Your-Custom-Type"><a class="docs-heading-anchor" href="#Step-1:-Define-Your-Custom-Type">Step 1: Define Your Custom Type</a><a id="Step-1:-Define-Your-Custom-Type-1"></a><a class="docs-heading-anchor-permalink" href="#Step-1:-Define-Your-Custom-Type" title="Permalink"></a></h3><p>Suppose you want to define a custom type that behaves like a Lorentz vector. Start by creating the type to hold the Cartesian components of the vector:</p><pre><code class="language-julia hljs">using QEDbase

struct CustomLorentzVector
    t::Float64   # time-like component
    x::Float64   # x-component of spatial vector
    y::Float64   # y-component of spatial vector
    z::Float64   # z-component of spatial vector
end</code></pre><h3 id="Step-2:-Implement-the-Lorentz-Vector-API"><a class="docs-heading-anchor" href="#Step-2:-Implement-the-Lorentz-Vector-API">Step 2: Implement the Lorentz Vector API</a><a id="Step-2:-Implement-the-Lorentz-Vector-API-1"></a><a class="docs-heading-anchor-permalink" href="#Step-2:-Implement-the-Lorentz-Vector-API" title="Permalink"></a></h3><p>To connect your custom type to the <code>LorentzVector</code> interface, you&#39;ll need to implement the required getters for the time and spatial components. These functions extract the respective components (<code>t</code>, <code>x</code>, <code>y</code>, and <code>z</code>) from your type:</p><pre><code class="language-julia hljs">QEDbase.getT(lv::CustomLorentzVector) = lv.t
QEDbase.getX(lv::CustomLorentzVector) = lv.x
QEDbase.getY(lv::CustomLorentzVector) = lv.y
QEDbase.getZ(lv::CustomLorentzVector) = lv.z</code></pre><h3 id="Step-3:-Register-Your-Custom-Type-as-a-LorentzVectorLike"><a class="docs-heading-anchor" href="#Step-3:-Register-Your-Custom-Type-as-a-LorentzVectorLike">Step 3: Register Your Custom Type as a <code>LorentzVectorLike</code></a><a id="Step-3:-Register-Your-Custom-Type-as-a-LorentzVectorLike-1"></a><a class="docs-heading-anchor-permalink" href="#Step-3:-Register-Your-Custom-Type-as-a-LorentzVectorLike" title="Permalink"></a></h3><p>Once you&#39;ve implemented the required API, you can register your custom type as a <code>LorentzVectorLike</code> by calling the following function:</p><pre><code class="language-julia hljs">register_LorentzVectorLike(CustomLorentzVector)</code></pre><p>If any required functions are missing or incorrectly implemented, this will raise a <code>RegistryError</code> that provides details on what needs to be fixed.</p><h3 id="Step-4:-Using-the-Custom-Lorentz-Vector"><a class="docs-heading-anchor" href="#Step-4:-Using-the-Custom-Lorentz-Vector">Step 4: Using the Custom Lorentz Vector</a><a id="Step-4:-Using-the-Custom-Lorentz-Vector-1"></a><a class="docs-heading-anchor-permalink" href="#Step-4:-Using-the-Custom-Lorentz-Vector" title="Permalink"></a></h3><p>With your custom type registered, you can now use it as a Lorentz vector in various kinematic calculations. For example, the <code>CustomLorentzVector</code> can be used to calculate angles or rapidity:</p><pre><code class="language-julia hljs">L = CustomLorentzVector(2.0, 1.0, 0.0, -1.0)

println(&quot;Polar angle (theta)): &quot;, getTheta(L))
println(&quot;Rapidity: &quot;, getRapidity(L))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Polar angle (theta)): 2.356194490192345
Rapidity: -0.5493061443340549</code></pre><h3 id="Optional:-Mutable-Types"><a class="docs-heading-anchor" href="#Optional:-Mutable-Types">Optional: Mutable Types</a><a id="Optional:-Mutable-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Optional:-Mutable-Types" title="Permalink"></a></h3><p>If you need to modify the components of the Lorentz vector after its creation, you can implement setter functions for your custom type. This will allow your type to be mutable and provide access to additional mutating functions within the <code>QEDbase.jl</code> ecosystem.</p><p>First: define another custom Lorentz vector type, but make it a mutable struct</p><pre><code class="language-julia hljs">mutable struct CustomMutableLorentzVector
    t::Float64   # time-like component
    x::Float64   # x-component of spatial vector
    y::Float64   # y-component of spatial vector
    z::Float64   # z-component of spatial vector
end</code></pre><p>Second: define the accessor functions for your mutable Lorentz vector</p><pre><code class="language-julia hljs">QEDbase.getT(lv::CustomMutableLorentzVector) = lv.t
QEDbase.getX(lv::CustomMutableLorentzVector) = lv.x
QEDbase.getY(lv::CustomMutableLorentzVector) = lv.y
QEDbase.getZ(lv::CustomMutableLorentzVector) = lv.z</code></pre><p>Third: enable mutability, implement the following setter methods</p><pre><code class="language-julia hljs">QEDbase.setT!(lv::CustomMutableLorentzVector, new_t) = (lv.t = new_t)
QEDbase.setX!(lv::CustomMutableLorentzVector, new_x) = (lv.x = new_x)
QEDbase.setY!(lv::CustomMutableLorentzVector, new_y) = (lv.y = new_y)
QEDbase.setZ!(lv::CustomMutableLorentzVector, new_z) = (lv.z = new_z)</code></pre><p>finally register your mutable Lorentz vector</p><pre><code class="language-julia hljs">register_LorentzVectorLike(CustomMutableLorentzVector)</code></pre><p>Once these setter methods are defined, your type will support mutable operations. You can then register your type and take advantage of mutating functions provided by <code>QEDbase.jl</code>.</p><h4 id="Example:-Updating-Rapidity"><a class="docs-heading-anchor" href="#Example:-Updating-Rapidity">Example: Updating Rapidity</a><a id="Example:-Updating-Rapidity-1"></a><a class="docs-heading-anchor-permalink" href="#Example:-Updating-Rapidity" title="Permalink"></a></h4><p>After defining your custom type as mutable, you can use functions like <code>setRapidity!</code> to update the rapidity and other kinematic properties of the vector in place:</p><pre><code class="language-julia hljs">L = CustomMutableLorentzVector(2.0, 1.0, 0.0, -1.0)

println(&quot;rapidity before: &quot;, getRapidity(L))
setRapidity!(L, 0.5)  # Updates the components accordingly
println(&quot;rapidity after: &quot;, getRapidity(L))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">rapidity before: -0.5493061443340549
rapidity after: 0.5000000000000001</code></pre><h2 id="Summary"><a class="docs-heading-anchor" href="#Summary">Summary</a><a id="Summary-1"></a><a class="docs-heading-anchor-permalink" href="#Summary" title="Permalink"></a></h2><p>In this tutorial, we learned how to:</p><ol><li>Define a custom type to represent a Lorentz vector.</li><li>Implement the required API functions to integrate the type into the <code>LorentzVector</code> interface of <code>QEDbase.jl</code>.</li><li>Register the type as <code>LorentzVectorLike</code> to enable its use in kinematic calculations.</li><li>Optionally, we explored how to make the custom type mutable and enable modification of its components.</li></ol><p>By following these steps, you can extend <code>QEDbase.jl</code> to work with your own Lorentz vector types while benefiting from the library&#39;s optimized calculations.</p><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">« Home</a><a class="docs-footer-nextpage" href="../particle/">Particles »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Wednesday 27 November 2024 15:39">Wednesday 27 November 2024</span>. Using Julia version 1.10.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
